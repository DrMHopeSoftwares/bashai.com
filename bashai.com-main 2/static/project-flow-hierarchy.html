<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BhashAI Project Flow - Complete Setup Journey</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #6366f1;
            --secondary: #8b5cf6;
            --accent: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1f2937;
            --light: #f8fafc;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .glassmorphism {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .step-card {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(99, 102, 241, 0.2);
            border-radius: 16px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .step-card:hover {
            border-color: var(--primary);
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(99, 102, 241, 0.2);
        }

        .step-card.active {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
        }

        .step-card.completed {
            border-color: var(--success);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.1));
        }

        .flow-connector {
            width: 2px;
            height: 60px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            margin: 0 auto;
        }

        .breadcrumb {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50px;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }

        .breadcrumb.active {
            background: var(--primary);
            color: white;
        }

        .step-progress {
            height: 6px;
            background: rgba(99, 102, 241, 0.2);
            border-radius: 3px;
            overflow: hidden;
        }

        .step-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.5s ease;
        }

        .enterprise-type-card {
            border: 2px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .enterprise-type-card:hover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.05);
        }

        .enterprise-type-card.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
        }
    </style>
</head>
<body>
    <div class="min-h-screen py-8 px-4">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-white mb-4">
                    <i class="fas fa-robot mr-3"></i>
                    BhashAI Complete Setup Journey
                </h1>
                <p class="text-xl text-white/80">
                    Enterprise → Organisation → Channel → Voice Agent → Contacts
                </p>
            </div>

            <!-- Progress Breadcrumbs -->
            <div class="glassmorphism rounded-2xl p-6 mb-8">
                <div class="flex flex-wrap justify-center items-center gap-2">
                    <div class="breadcrumb active" id="breadcrumb-1">
                        <i class="fas fa-user-tie mr-2"></i>Enterprise Setup
                    </div>
                    <i class="fas fa-chevron-right text-gray-400"></i>
                    <div class="breadcrumb" id="breadcrumb-2">
                        <i class="fas fa-building mr-2"></i>Organisation
                    </div>
                    <i class="fas fa-chevron-right text-gray-400"></i>
                    <div class="breadcrumb" id="breadcrumb-3">
                        <i class="fas fa-satellite-dish mr-2"></i>Channel
                    </div>
                    <i class="fas fa-chevron-right text-gray-400"></i>
                    <div class="breadcrumb" id="breadcrumb-4">
                        <i class="fas fa-robot mr-2"></i>Voice Agent
                    </div>
                    <i class="fas fa-chevron-right text-gray-400"></i>
                    <div class="breadcrumb" id="breadcrumb-5">
                        <i class="fas fa-address-book mr-2"></i>Contacts
                    </div>
                </div>

                <!-- Overall Progress -->
                <div class="mt-4">
                    <div class="step-progress">
                        <div class="step-progress-fill" id="overall-progress" style="width: 20%"></div>
                    </div>
                    <p class="text-center mt-2 text-sm text-gray-600">
                        Step <span id="current-step">1</span> of 5 - <span id="progress-text">20% Complete</span>
                    </p>
                </div>
            </div>

            <!-- Main Content Container -->
            <div class="glassmorphism rounded-2xl p-8">
                
                <!-- Step 1: Enterprise Type Selection -->
                <div class="step-content" id="step-1">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-user-tie text-3xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Enterprise Type Selection</h2>
                        <p class="text-gray-600">Choose your enterprise type to get industry-specific templates and features</p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="enterprise-type-card" data-type="healthcare">
                            <i class="fas fa-heartbeat text-4xl text-red-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Healthcare</h3>
                            <p class="text-gray-600 text-sm">Hospitals, Clinics, Doctors</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Appointment booking, Health consultation, Emergency assistance
                            </div>
                        </div>

                        <div class="enterprise-type-card" data-type="education">
                            <i class="fas fa-graduation-cap text-4xl text-blue-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Education</h3>
                            <p class="text-gray-600 text-sm">Schools, Universities, Training</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Admission inquiries, Course information, Student support
                            </div>
                        </div>

                        <div class="enterprise-type-card" data-type="retail">
                            <i class="fas fa-shopping-cart text-4xl text-green-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Retail</h3>
                            <p class="text-gray-600 text-sm">E-commerce, Stores, Sales</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Order inquiries, Product support, Sales assistance
                            </div>
                        </div>

                        <div class="enterprise-type-card" data-type="legal">
                            <i class="fas fa-balance-scale text-4xl text-yellow-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Legal</h3>
                            <p class="text-gray-600 text-sm">Law Firms, Legal Services</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Consultation booking, Case inquiries, Legal advice
                            </div>
                        </div>

                        <div class="enterprise-type-card" data-type="government">
                            <i class="fas fa-landmark text-4xl text-purple-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Government</h3>
                            <p class="text-gray-600 text-sm">Public Services, Administration</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Citizen services, Information helpline, Support
                            </div>
                        </div>

                        <div class="enterprise-type-card" data-type="finance">
                            <i class="fas fa-chart-line text-4xl text-indigo-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Finance</h3>
                            <p class="text-gray-600 text-sm">Banks, Insurance, FinTech</p>
                            <div class="mt-3 text-xs text-gray-500">
                                Templates: Account services, Loan inquiries, Financial advice
                            </div>
                        </div>
                    </div>

                    <div class="text-center">
                        <button class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed" 
                                id="next-step-1" disabled onclick="nextStep()">
                            Continue to Organisation Setup
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 2: Organisation Creation -->
                <div class="step-content hidden" id="step-2">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-green-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-building text-3xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Create Organisation</h2>
                        <p class="text-gray-600">Set up your organisation within the <span id="selected-enterprise-type">Healthcare</span> enterprise</p>
                    </div>

                    <div class="max-w-2xl mx-auto">
                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Organisation Name</label>
                                <input type="text" id="org-name" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                       placeholder="e.g., City General Hospital">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Industry Specialization</label>
                                <select id="org-industry" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="">Select specialization...</option>
                                    <!-- Dynamic options based on enterprise type -->
                                </select>
                            </div>

                            <div class="grid md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">City</label>
                                    <input type="text" id="org-city" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                           placeholder="Mumbai">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">State</label>
                                    <input type="text" id="org-state" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" 
                                           placeholder="Maharashtra">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Organisation Logo (Optional)</label>
                                <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                    <p class="text-gray-600">Click to upload or drag and drop</p>
                                    <p class="text-sm text-gray-500">PNG, JPG up to 2MB</p>
                                    <input type="file" id="org-logo" class="hidden" accept="image/*">
                                </div>
                            </div>
                        </div>

                        <div class="mt-8 flex justify-between">
                            <button class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold" onclick="prevStep()">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                            <button class="bg-gradient-to-r from-green-500 to-blue-600 text-white px-8 py-3 rounded-lg font-semibold" 
                                    onclick="nextStep()">
                                Create Channel
                                <i class="fas fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Channel Selection -->
                <div class="step-content hidden" id="step-3">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-satellite-dish text-3xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Create Communication Channel</h2>
                        <p class="text-gray-600">Choose how your voice agents will communicate with contacts</p>
                    </div>

                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                        <div class="step-card p-6 text-center channel-card" data-channel="inbound">
                            <i class="fas fa-phone-alt text-4xl text-blue-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Inbound Calls</h3>
                            <p class="text-gray-600 text-sm mb-4">Customers call your number</p>
                            <div class="text-xs text-gray-500">
                                Webhook URL required
                            </div>
                        </div>

                        <div class="step-card p-6 text-center channel-card" data-channel="outbound">
                            <i class="fas fa-phone text-4xl text-green-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Outbound Calls</h3>
                            <p class="text-gray-600 text-sm mb-4">AI calls your contacts</p>
                            <div class="text-xs text-gray-500">
                                SIP configuration needed
                            </div>
                        </div>

                        <div class="step-card p-6 text-center channel-card" data-channel="whatsapp">
                            <i class="fab fa-whatsapp text-4xl text-green-600 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">WhatsApp</h3>
                            <p class="text-gray-600 text-sm mb-4">WhatsApp Business API</p>
                            <div class="text-xs text-gray-500">
                                Business account required
                            </div>
                        </div>

                        <div class="step-card p-6 text-center channel-card" data-channel="ivr">
                            <i class="fas fa-list-ul text-4xl text-purple-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">IVR System</h3>
                            <p class="text-gray-600 text-sm mb-4">Interactive Voice Response</p>
                            <div class="text-xs text-gray-500">
                                Menu-based navigation
                            </div>
                        </div>

                        <div class="step-card p-6 text-center channel-card" data-channel="social">
                            <i class="fab fa-facebook-messenger text-4xl text-blue-600 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Social Media</h3>
                            <p class="text-gray-600 text-sm mb-4">FB Messenger, Instagram</p>
                            <div class="text-xs text-gray-500">
                                Social media integration
                            </div>
                        </div>

                        <div class="step-card p-6 text-center channel-card" data-channel="web">
                            <i class="fas fa-globe text-4xl text-indigo-500 mb-4"></i>
                            <h3 class="text-xl font-semibold mb-2">Web Chat</h3>
                            <p class="text-gray-600 text-sm mb-4">Website chat widget</p>
                            <div class="text-xs text-gray-500">
                                Embed on your website
                            </div>
                        </div>
                    </div>

                    <!-- Channel Configuration (Dynamic) -->
                    <div id="channel-config" class="hidden">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6">
                            <h4 class="text-lg font-semibold text-blue-800 mb-4">
                                <i class="fas fa-cog mr-2"></i>
                                Channel Configuration
                            </h4>
                            <div id="config-content">
                                <!-- Dynamic configuration options -->
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between">
                        <button class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold" onclick="prevStep()">
                            <i class="fas fa-arrow-left mr-2"></i>Back
                        </button>
                        <button class="bg-gradient-to-r from-purple-500 to-pink-600 text-white px-8 py-3 rounded-lg font-semibold disabled:opacity-50" 
                                id="next-step-3" disabled onclick="nextStep()">
                            Create Voice Agent
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                </div>

                <!-- Step 4: Voice Agent Setup (Integration Point) -->
                <div class="step-content hidden" id="step-4">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-robot text-3xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Create Intelligent Voice Agent</h2>
                        <p class="text-gray-600">This step will redirect to the advanced intelligent agent setup page</p>
                    </div>

                    <div class="max-w-4xl mx-auto">
                        <!-- Integration Preview -->
                        <div class="bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200 rounded-xl p-8 mb-8">
                            <div class="text-center mb-6">
                                <i class="fas fa-brain text-6xl text-indigo-600 mb-4"></i>
                                <h3 class="text-2xl font-bold text-gray-800 mb-2">Intelligent Agent Features</h3>
                                <p class="text-gray-600">Advanced AI capabilities for your voice agent</p>
                            </div>

                            <div class="grid md:grid-cols-2 gap-6">
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-brain text-indigo-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">Natural Language Understanding</h4>
                                        <p class="text-sm text-gray-600">Context-aware conversation with intent recognition</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-memory text-purple-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">Conversation Memory</h4>
                                        <p class="text-sm text-gray-600">Remembers context across interactions</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-heart text-red-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">Sentiment Analysis</h4>
                                        <p class="text-sm text-gray-600">Emotion detection and appropriate responses</p>
                                    </div>
                                </div>

                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-language text-green-500 mt-1"></i>
                                    <div>
                                        <h4 class="font-semibold text-gray-800">Multi-language Support</h4>
                                        <p class="text-sm text-gray-600">Hindi, English, and Hinglish support</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Setup vs Advanced Setup -->
                        <div class="grid md:grid-cols-2 gap-6 mb-8">
                            <div class="border-2 border-gray-300 rounded-xl p-6 text-center hover:border-indigo-500 transition-all cursor-pointer" onclick="quickSetup()">
                                <i class="fas fa-bolt text-4xl text-yellow-500 mb-4"></i>
                                <h3 class="text-xl font-semibold mb-2">Quick Setup</h3>
                                <p class="text-gray-600 text-sm mb-4">Use pre-built templates for your industry</p>
                                <div class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs inline-block">
                                    5 minutes setup
                                </div>
                            </div>

                            <div class="border-2 border-indigo-500 bg-indigo-50 rounded-xl p-6 text-center cursor-pointer" onclick="advancedSetup()">
                                <i class="fas fa-cogs text-4xl text-indigo-600 mb-4"></i>
                                <h3 class="text-xl font-semibold mb-2">Advanced Setup</h3>
                                <p class="text-gray-600 text-sm mb-4">Full customization with AI intelligence features</p>
                                <div class="bg-indigo-200 text-indigo-800 px-3 py-1 rounded-full text-xs inline-block">
                                    Recommended
                                </div>
                            </div>
                        </div>

                        <div class="text-center text-sm text-gray-500 mb-6">
                            <i class="fas fa-info-circle mr-1"></i>
                            The advanced setup page will open with your enterprise and channel context pre-filled
                        </div>

                        <div class="flex justify-between">
                            <button class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold" onclick="prevStep()">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                            <button class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-8 py-3 rounded-lg font-semibold" 
                                    onclick="advancedSetup()">
                                Open Intelligent Agent Setup
                                <i class="fas fa-external-link-alt ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Step 5: Contact Assignment -->
                <div class="step-content hidden" id="step-5">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-address-book text-3xl text-white"></i>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Assign Contacts</h2>
                        <p class="text-gray-600">Add contacts for your voice agent to communicate with</p>
                    </div>

                    <div class="max-w-4xl mx-auto">
                        <!-- Contact Source Selection -->
                        <div class="grid md:grid-cols-3 gap-6 mb-8">
                            <div class="step-card p-6 text-center contact-source" data-source="upload">
                                <i class="fas fa-file-upload text-4xl text-blue-500 mb-4"></i>
                                <h3 class="text-xl font-semibold mb-2">Upload CSV/Excel</h3>
                                <p class="text-gray-600 text-sm">Bulk import from file</p>
                            </div>

                            <div class="step-card p-6 text-center contact-source" data-source="crm">
                                <i class="fas fa-database text-4xl text-green-500 mb-4"></i>
                                <h3 class="text-xl font-semibold mb-2">CRM Integration</h3>
                                <p class="text-gray-600 text-sm">Sync from your CRM</p>
                            </div>

                            <div class="step-card p-6 text-center contact-source" data-source="manual">
                                <i class="fas fa-user-plus text-4xl text-purple-500 mb-4"></i>
                                <h3 class="text-xl font-semibold mb-2">Manual Entry</h3>
                                <p class="text-gray-600 text-sm">Add contacts individually</p>
                            </div>
                        </div>

                        <!-- Contact Management Interface -->
                        <div id="contact-interface" class="hidden">
                            <!-- Dynamic content based on selected source -->
                        </div>

                        <div class="flex justify-between">
                            <button class="bg-gray-500 text-white px-6 py-3 rounded-lg font-semibold" onclick="prevStep()">
                                <i class="fas fa-arrow-left mr-2"></i>Back
                            </button>
                            <button class="bg-gradient-to-r from-green-500 to-teal-600 text-white px-8 py-3 rounded-lg font-semibold" 
                                    onclick="completeSetup()">
                                Complete Setup
                                <i class="fas fa-check ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Quick Actions Sidebar -->
            <div class="fixed bottom-8 right-8">
                <div class="bg-white rounded-full p-4 shadow-lg border border-gray-200">
                    <button class="text-indigo-600 hover:text-indigo-800" onclick="showHelp()" title="Help">
                        <i class="fas fa-question-circle text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let selectedEnterpriseType = '';
        let selectedChannel = '';
        let organizationData = {};

        // Enterprise type selection
        document.querySelectorAll('.enterprise-type-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards
                document.querySelectorAll('.enterprise-type-card').forEach(c => c.classList.remove('selected'));
                
                // Add selection to clicked card
                this.classList.add('selected');
                selectedEnterpriseType = this.dataset.type;
                
                // Enable next button
                document.getElementById('next-step-1').disabled = false;
                
                // Update industry options for step 2
                updateIndustryOptions(selectedEnterpriseType);
            });
        });

        // Channel selection
        document.querySelectorAll('.channel-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards
                document.querySelectorAll('.channel-card').forEach(c => c.classList.remove('active'));
                
                // Add selection to clicked card
                this.classList.add('active');
                selectedChannel = this.dataset.channel;
                
                // Show channel configuration
                showChannelConfig(selectedChannel);
                
                // Enable next button
                document.getElementById('next-step-3').disabled = false;
            });
        });

        // Contact source selection
        document.querySelectorAll('.contact-source').forEach(card => {
            card.addEventListener('click', function() {
                // Remove selection from all cards
                document.querySelectorAll('.contact-source').forEach(c => c.classList.remove('active'));
                
                // Add selection to clicked card
                this.classList.add('active');
                
                // Show contact interface
                showContactInterface(this.dataset.source);
            });
        });

        function updateIndustryOptions(enterpriseType) {
            const industrySelect = document.getElementById('org-industry');
            const industries = {
                healthcare: ['General Hospital', 'Clinic', 'Dental Practice', 'Pharmacy', 'Mental Health', 'Specialty Care'],
                education: ['School', 'University', 'Training Institute', 'Online Education', 'Vocational Training'],
                retail: ['E-commerce', 'Fashion', 'Electronics', 'Grocery', 'Automotive', 'Home & Garden'],
                legal: ['Law Firm', 'Legal Aid', 'Corporate Law', 'Family Law', 'Criminal Law', 'Immigration'],
                government: ['Municipal', 'State Government', 'Central Government', 'Public Services', 'Emergency Services'],
                finance: ['Bank', 'Insurance', 'Investment', 'FinTech', 'Credit Union', 'Wealth Management']
            };

            industrySelect.innerHTML = '<option value="">Select specialization...</option>';
            industries[enterpriseType].forEach(industry => {
                industrySelect.innerHTML += `<option value="${industry}">${industry}</option>`;
            });
        }

        function showChannelConfig(channel) {
            const configDiv = document.getElementById('channel-config');
            const contentDiv = document.getElementById('config-content');
            
            const configs = {
                inbound: `
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Webhook URL</label>
                            <input type="url" class="w-full px-4 py-2 border border-gray-300 rounded-lg" 
                                   placeholder="https://your-domain.com/webhook/voice">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                            <input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg" 
                                   placeholder="+91 XXXXX XXXXX">
                        </div>
                    </div>
                `,
                outbound: `
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">SIP Server</label>
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg" 
                                   placeholder="sip.provider.com">
                        </div>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Username</label>
                                <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                                <input type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            </div>
                        </div>
                    </div>
                `,
                whatsapp: `
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Business Account ID</label>
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg" 
                                   placeholder="WhatsApp Business Account ID">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Access Token</label>
                            <input type="password" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                        </div>
                    </div>
                `
            };

            contentDiv.innerHTML = configs[channel] || `
                <p class="text-gray-600">Configuration options for ${channel} will be available here.</p>
            `;
            
            configDiv.classList.remove('hidden');
        }

        function showContactInterface(source) {
            const interfaceDiv = document.getElementById('contact-interface');
            const interfaces = {
                upload: `
                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8 text-center">
                        <i class="fas fa-cloud-upload-alt text-6xl text-gray-400 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Upload Contact File</h3>
                        <p class="text-gray-600 mb-4">CSV or Excel file with Name, Phone, Email columns</p>
                        <button class="bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600">
                            Choose File
                        </button>
                        <p class="text-sm text-gray-500 mt-2">Maximum 10,000 contacts per upload</p>
                    </div>
                `,
                crm: `
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="border border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 cursor-pointer">
                            <i class="fab fa-salesforce text-4xl text-blue-600 mb-4"></i>
                            <h3 class="font-semibold">Salesforce</h3>
                        </div>
                        <div class="border border-gray-300 rounded-lg p-6 text-center hover:border-green-500 cursor-pointer">
                            <i class="fas fa-hubspot text-4xl text-orange-500 mb-4"></i>
                            <h3 class="font-semibold">HubSpot</h3>
                        </div>
                    </div>
                `,
                manual: `
                    <div class="space-y-4">
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Name</label>
                                <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                                <input type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                            </div>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email (Optional)</label>
                            <input type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tags</label>
                            <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg" 
                                   placeholder="VIP, Customer, Prospect">
                        </div>
                        <button class="bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-600">
                            Add Contact
                        </button>
                    </div>
                `
            };

            interfaceDiv.innerHTML = interfaces[source];
            interfaceDiv.classList.remove('hidden');
        }

        function nextStep() {
            if (currentStep < 5) {
                // Hide current step
                document.getElementById(`step-${currentStep}`).classList.add('hidden');
                
                // Update breadcrumb
                document.getElementById(`breadcrumb-${currentStep}`).classList.remove('active');
                
                // Move to next step
                currentStep++;
                
                // Show next step
                document.getElementById(`step-${currentStep}`).classList.remove('hidden');
                
                // Update breadcrumb
                document.getElementById(`breadcrumb-${currentStep}`).classList.add('active');
                
                // Update progress
                updateProgress();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                // Hide current step
                document.getElementById(`step-${currentStep}`).classList.add('hidden');
                
                // Update breadcrumb
                document.getElementById(`breadcrumb-${currentStep}`).classList.remove('active');
                
                // Move to previous step
                currentStep--;
                
                // Show previous step
                document.getElementById(`step-${currentStep}`).classList.remove('hidden');
                
                // Update breadcrumb
                document.getElementById(`breadcrumb-${currentStep}`).classList.add('active');
                
                // Update progress
                updateProgress();
            }
        }

        function updateProgress() {
            const progress = (currentStep / 5) * 100;
            document.getElementById('overall-progress').style.width = `${progress}%`;
            document.getElementById('current-step').textContent = currentStep;
            document.getElementById('progress-text').textContent = `${progress}% Complete`;
            
            // Update enterprise type display in step 2
            if (currentStep === 2) {
                document.getElementById('selected-enterprise-type').textContent = 
                    selectedEnterpriseType.charAt(0).toUpperCase() + selectedEnterpriseType.slice(1);
            }
        }

        function quickSetup() {
            alert('Quick setup will use pre-built templates for your ' + selectedEnterpriseType + ' organization.');
            // Redirect to quick setup or implement quick setup logic
        }

        function advancedSetup() {
            // Prepare context data
            const contextData = {
                enterpriseType: selectedEnterpriseType,
                organizationData: organizationData,
                selectedChannel: selectedChannel,
                currentStep: currentStep
            };
            
            // Store context in localStorage for the intelligent agent setup page
            localStorage.setItem('bhashai_setup_context', JSON.stringify(contextData));
            
            // Open the intelligent agent setup page
            window.open('/intelligent-agent-setup.html?context=flow', '_blank');
        }

        function completeSetup() {
            alert('Setup complete! Your intelligent voice agent system is ready.');
            // Redirect to dashboard or show completion page
        }

        function showHelp() {
            alert('Help: This is the complete setup flow for BhashAI voice agents. Follow each step to create your intelligent voice assistant system.');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
        });
    </script>
</body>
</html>